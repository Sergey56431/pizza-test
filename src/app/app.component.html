<header class="header">
  <div class="container">
    <div class="burger-menu" id="burger" (click)="_showMenu()">
      <svg id="Layer_1" enable-background="new 0 0 512 512" height="512" viewBox="0 0 512 512" width="512"
           xmlns="http://www.w3.org/2000/svg">
        <path
          d="m464.883 64.267h-417.766c-25.98 0-47.117 21.136-47.117 47.149 0 25.98 21.137 47.117 47.117 47.117h417.766c25.98 0 47.117-21.137 47.117-47.117 0-26.013-21.137-47.149-47.117-47.149z"/>
        <path
          d="m464.883 208.867h-417.766c-25.98 0-47.117 21.136-47.117 47.149 0 25.98 21.137 47.117 47.117 47.117h417.766c25.98 0 47.117-21.137 47.117-47.117 0-26.013-21.137-47.149-47.117-47.149z"/>
        <path
          d="m464.883 353.467h-417.766c-25.98 0-47.117 21.137-47.117 47.149 0 25.98 21.137 47.117 47.117 47.117h417.766c25.98 0 47.117-21.137 47.117-47.117 0-26.012-21.137-47.149-47.117-47.149z"/>
      </svg>
    </div>
    <div class="logo">
      <img src="./assets/images/logo.png" alt="Логотип">
    </div>
    <nav class="menu" [class.open]="_menu()">
      <div class="close" (click)="_showMenu()">
        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
             xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
             viewBox="0 0 492 492" style="enable-background:new 0 0 492 492;" xml:space="preserve">
<g>
	<g>
		<path d="M300.188,246L484.14,62.04c5.06-5.064,7.852-11.82,7.86-19.024c0-7.208-2.792-13.972-7.86-19.028L468.02,7.872
			c-5.068-5.076-11.824-7.856-19.036-7.856c-7.2,0-13.956,2.78-19.024,7.856L246.008,191.82L62.048,7.872
			c-5.06-5.076-11.82-7.856-19.028-7.856c-7.2,0-13.96,2.78-19.02,7.856L7.872,23.988c-10.496,10.496-10.496,27.568,0,38.052
			L191.828,246L7.872,429.952c-5.064,5.072-7.852,11.828-7.852,19.032c0,7.204,2.788,13.96,7.852,19.028l16.124,16.116
			c5.06,5.072,11.824,7.856,19.02,7.856c7.208,0,13.968-2.784,19.028-7.856l183.96-183.952l183.952,183.952
			c5.068,5.072,11.824,7.856,19.024,7.856h0.008c7.204,0,13.96-2.784,19.028-7.856l16.12-16.116
			c5.06-5.064,7.852-11.824,7.852-19.028c0-7.204-2.792-13.96-7.852-19.028L300.188,246z"/>
	</g>
</g>
</svg>
      </div>
      <ul class="menu-items">
        <li class="menu-item">
          <a routerLink="/" (click)="_scrollTo(products)"> Пиццы</a>
        </li>
        <li class="menu-item">
          <a routerLink="/" (click)="_scrollTo(products)">Напитки</a>
        </li>
        <li class="menu-item">
          <a routerLink="/" (click)="_scrollTo(order)">Доставка и оплата</a>
        </li>
        <li class="menu-item">
          <a routerLink="/" (click)="_scrollTo(order)">Контакты</a>
        </li>
      </ul>
    </nav>
  </div>
  <div></div>
</header>
<section class="main">
  <div class="container">
    <div class="main-info">
      <h1 class="main-title double-title">Самая вкусная пицца в мире
        <span>только в Pizza Cheff</span>
      </h1>
      <div class="main-advantages">
        <div class="advantage">
          <div class="advantage-image">
            <img src="./assets/images/hop.png" alt="Тесто">
          </div>
          <div class="advantage-text">
            <div class="advantage-title">
              Лучшее тесто
            </div>
            <div class="advantage-description">
              Мы создаем тесто только из
              отборной итальянской муки
              наивысшего качества
            </div>
          </div>
        </div>
        <div class="advantage">
          <div class="advantage-image">
            <img src="./assets/images/seo-and-web.png" alt="">
          </div>
          <div class="advantage-text">
            <div class="advantage-title">
              гарантия качества
            </div>
            <div class="advantage-description">
              Наша пиццерия получила
              множество наград и
              признаний по всему миру
            </div>
          </div>
        </div>
        <div class="advantage">
          <div class="advantage-image">
            <img src="./assets/images/kitchen-pack.png" alt="">
          </div>
          <div class="advantage-text">
            <div class="advantage-title">
              лучшие повара
            </div>
            <div class="advantage-description">
              Пиццы готовят самые
              профессиональные
              итальянские повара
            </div>
          </div>
        </div>
        <div class="advantage">
          <div class="advantage-image">
            <img src="./assets/images/holidays.png" alt="">
          </div>
          <div class="advantage-text">
            <div class="advantage-title">
              отборные рецепты
            </div>
            <div class="advantage-description">
              Мы используем рецепты
              от мировых лидеров
              в изготовлении пиццы
            </div>
          </div>
        </div>

      </div>
      <div class="main-action">
        <a class="button open-popup-link hvr-sweep-to-right" (click)="_scrollTo(products)">Выбрать пиццу</a>
      </div>
    </div>
    <div class="main-image">
      <img src="assets/images/pizza_big.png" alt="Big-pizza">
    </div>
  </div>
</section>
<section class="products" id="products" #products>
  <div class="container">
    <h2 class="product-title">Выберите свою любимую пиццу </h2>
    <div class="product-items">
      @for (product of _products; track product) {
        <app-product-card [product]="product" (_addToOrderEvent)="_addToOrder(order)"></app-product-card>
      }
    </div>
  </div>
  <div class="loader-bg">
    <div class="loader"></div>
  </div>

</section>
<section class="order" #order>
  <div class="container">
    <div class="order-text">
      <div class="order-title double-title">
        <span>Хватит думать!</span> Доставим заказ за 30 минут!
      </div>
      <div class="order-description">
        Мы гарантированно доставим вашу пиццу за 30 минут с момента оформления заказа. Если мы опоздаем даже на
        1 минуту - вы получаете весь заказ бесплатно и ваучер на скидку на следующий заказ. Мы гордимся нашим
        сервисом и сделаем всё, чтобы наш клиент был доволен и не остался голодный!
      </div>
    </div>
    <form class="order-form form" [formGroup]="_orderForm">
      <input appRemoveDots [dots]="'.'" class="order-input" formControlName="name" placeholder="Ваше имя"
             [style]="{'border-color': name?.invalid && (name?.dirty || !name?.untouched) ? 'red' : ''}">
      @if (name?.invalid && (name?.dirty || !name?.untouched)) {
        <div class="input-error">
          Заполните поле
        </div>
      }
      <input class="order-input" formControlName="address" placeholder="Адрес доставки"
             [style]="{'border-color': address?.invalid && (address?.dirty || !address?.untouched) ? 'red' : ''}">
      @if (address?.invalid && (address?.dirty || !address?.untouched)) {
        <div class="input-error">
          Заполните поле
        </div>
      }
      <input class="order-input" formControlName="phone" placeholder="Телефон +7 (999) 999 99 99"
             [style]="{'border-color': phone?.invalid && (phone?.dirty || !phone?.untouched) ? 'red' : ''}">
      @if(phone?.invalid && (phone?.dirty || !phone?.untouched)) {
        @if (phone?.errors?.['required']) {
          <div class="input-error">
            Заполните поле
          </div>
        }
        @if (phone?.errors?.['pattern']) {
          <div class="input-error">
            Не верный формат телефона
          </div>
        }
      }

      <button [disabled]="!_orderForm.valid" type="button" class="button" (click)="_sendOrder()">Оформить заказ</button>
    </form>
    <div class="order-image">
      <img src="./assets/images/pizzzzza.png" alt="">
    </div>
  </div>
</section>
@if (show()) {
  <app-popup [show]="show"></app-popup>
}

